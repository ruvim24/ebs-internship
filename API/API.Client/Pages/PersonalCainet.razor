@page "/personalCabinet"
@using System.Net
@using System.Text.Json
@using API.Client.Services
@using Shared.Dtos.Users
@inject ISnackbar Snackbar
@inject AccountService AccountService

<h3>Cabinet Personal</h3>


<MudCard Elevation="6" Style="width: 100%; max-width: 400px; margin: 20px auto; border-radius: 15px;">
    <MudCardHeader>
        <MudText Typo="Typo.h5" Align="Align.Center">Informatii personale</MudText>
    </MudCardHeader>

    <MudCardContent>
        <MudStack Spacing="2">
            <MudText Typo="Typo.subtitle1" Color="Color.Primary">Nume complet:</MudText>
            <MudText Typo="Typo.body1">@userInfo.FullName</MudText>

            <MudDivider />

            <MudText Typo="Typo.subtitle1" Color="Color.Primary">Email:</MudText>
            <MudText Typo="Typo.body1">@userInfo.Email</MudText>

            <MudDivider />

            <MudText Typo="Typo.subtitle1" Color="Color.Primary">Telefon:</MudText>
            <MudText Typo="Typo.body1">@userInfo.PhoneNumber</MudText>
        </MudStack>
    </MudCardContent>
</MudCard>
<p>@message</p>

@code {

    UserDto? userInfo = new UserDto();
    string message;


    protected override async Task OnInitializedAsync()
    {
        var userInfo = await AccountService.GetLoggedInUser();
    }
}